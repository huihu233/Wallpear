import{b as a,y as s,z as l,s as e,d as t,o as i,e as u,c as o,w as n,p as d,a as r,F as c,i as p,f as m,l as f,h as g}from"./index-tyKEI9bu.js";import{_ as v}from"./uni-load-more.Bs0D7oec.js";import{_,b as y,c as b,d as h,o as w,r as j}from"./uni-app.es.9PiQrhwX.js";import{f as k,g as L}from"./apis.BQYagzOa.js";const z=_({__name:"classlist",setup(_){const z=a([]),x=a(!1);let C,F={pageNum:2,pageSize:12};async function N(){let a;F.classid&&(a=await k(F)),F.type&&(a=await L(F)),a.data.length<F.pageSize&&(x.value=!0),z.value=[...z.value,...a.data],e("storgClassList",z.value)}return y((a=>{let{id:l=null,name:e=null,type:t=null}=a;t&&(F.type=t),l&&(F.classid=l),C=e,s({title:e}),N()})),b((()=>{x.value||(F.pageNum+=1,N())})),h((()=>{l("storgClassList")})),w((()=>({title:"大虾壁纸"+C,path:"/pages/classlist/classlist?id="+F.classid+"&name="+C}))),(a,s)=>{const l=j(t("uni-load-more"),v),e=p,_=f,y=g;return i(),u(c,null,[z.value.length||x.value?(i(),o(e,{key:1,class:"classlist"},{default:n((()=>[(i(!0),u(c,null,m(z.value,(a=>(i(),o(y,{url:"/pages/preview/preview?id="+a._id,class:"item",key:a._id},{default:n((()=>[r(_,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1})):(i(),o(e,{key:0,class:"loadinLayout"},{default:n((()=>[r(l,{status:"loading"})])),_:1})),z.value.length||x.value?(i(),o(e,{key:2,class:"loadinLayout"},{default:n((()=>[r(l,{status:x.value?"noMore":"loading"},null,8,["status"])])),_:1})):d("",!0),r(e,{class:"safe-area-inset-bottom"})],64)}}},[["__scopeId","data-v-9db2e4d4"]]);export{z as default};
