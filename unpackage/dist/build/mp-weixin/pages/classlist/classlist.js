"use strict";const e=require("../../common/vendor.js"),a=require("../../api/apis.js");if(!Array){e.resolveComponent("uni-load-more")()}Math;const t={__name:"classlist",setup(t){const l=e.ref([]),s=e.ref(!1);let i,n={pageNum:2,pageSize:12};async function o(){let t;n.classid&&(t=await a.apiGetClassList(n)),n.type&&(t=await a.apiGetuserWallList(n)),t.data.length<n.pageSize&&(s.value=!0),l.value=[...l.value,...t.data],e.index.setStorageSync("storgClassList",l.value)}return e.onLoad((a=>{let{id:t=null,name:l=null,type:s=null}=a;s&&(n.type=s),t&&(n.classid=t),i=l,e.index.setNavigationBarTitle({title:l}),o()})),e.onReachBottom((()=>{s.value||(n.pageNum+=1,o())})),e.onUnload((()=>{e.index.removeStorageSync("storgClassList")})),e.onShareAppMessage((()=>({title:"大虾壁纸"+i,path:"/pages/classlist/classlist?id="+n.classid+"&name="+i}))),(a,t)=>e.e({a:!l.value.length&&!s.value},l.value.length||s.value?{c:e.f(l.value,((e,a,t)=>({a:e.smallPicurl,b:"/pages/preview/preview?id="+e._id,c:e._id})))}:{b:e.p({status:"loading"})},{d:l.value.length||s.value},l.value.length||s.value?{e:e.p({status:s.value?"noMore":"loading"})}:{})}},l=e._export_sfc(t,[["__scopeId","data-v-9db2e4d4"]]);t.__runtimeHooks=2,wx.createPage(l);
